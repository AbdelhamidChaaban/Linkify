/* Mobile Fixes - Phone screen only (max-width: 768px) */

@media (max-width: 768px) {
    /* ==================== Navigation Smaller ==================== */
    .navbar {
        padding: 0.5rem 0.75rem 0.5rem 3.5rem !important;
        min-height: auto !important;
    }
    
    .nav-brand img {
        height: 40px !important;
        width: auto;
    }
    
    .nav-brand h1,
    .nav-brand-text {
        font-size: 1.1rem !important;
        letter-spacing: 0.5px;
    }
    
    /* ==================== Make Pages Scrollable ==================== */
    /* Remove fixed height and overflow hidden on mobile for all pages */
    html.home-page,
    body.home-page {
        overflow: visible !important;
        height: auto !important;
        position: relative !important;
    }
    
    body.home-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
    }
    
    /* Insights page - allow card-container to scroll */
    html.insights-page,
    body.insights-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        touch-action: pan-y !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.insights-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    /* Ensure card-container can scroll on mobile */
    body.insights-page .card-container {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        -webkit-overflow-scrolling: touch !important;
        touch-action: pan-y !important;
        max-height: calc(100vh - 180px) !important;
        height: calc(100vh - 180px) !important;
        position: relative !important;
        will-change: scroll-position !important;
        transform: translateZ(0) !important;
        -webkit-transform: translateZ(0) !important;
    }
    
    /* Admins page - make scrollable */
    html.admins-page,
    body.admins-page {
        overflow: visible !important;
        height: auto !important;
        position: relative !important;
    }
    
    body.admins-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
    }
    
    /* Actions page - enable page-level scrolling and pull-to-refresh */
    html.actions-page,
    body.actions-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        touch-action: pan-y !important;
        overscroll-behavior-y: auto !important; /* Allow native pull-to-refresh */
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.actions-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    /* Flow Manager page - enable page-level scrolling and pull-to-refresh */
    html.flow-manager-page,
    body.flow-manager-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        touch-action: pan-y !important;
        overscroll-behavior-y: auto !important; /* Allow native pull-to-refresh */
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.flow-manager-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    /* Profit Engine page - enable page-level scrolling and pull-to-refresh */
    html.profit-engine-page,
    body.profit-engine-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        touch-action: pan-y !important;
        overscroll-behavior-y: auto !important; /* Allow native pull-to-refresh */
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.profit-engine-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    /* Add Subscriber page - enable page-level scrolling and pull-to-refresh */
    html.add-subscriber-page,
    body.add-subscriber-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        touch-action: pan-y !important;
        overscroll-behavior-y: auto !important; /* Allow native pull-to-refresh */
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.add-subscriber-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    /* Owner Panel page - enable page-level scrolling and pull-to-refresh */
    html.owner-panel-page,
    body.owner-panel-page {
        overflow-y: auto !important;
        overflow-x: hidden !important;
        height: auto !important;
        position: relative !important;
        min-height: 100vh !important;
        min-height: 100dvh !important;
        touch-action: pan-y !important;
        overscroll-behavior-y: auto !important; /* Allow native pull-to-refresh */
        -webkit-overflow-scrolling: touch !important;
    }
    
    body.owner-panel-page .main-content {
        height: auto !important;
        overflow: visible !important;
        position: relative !important;
        min-height: calc(100vh - 60px);
        touch-action: pan-y !important;
    }
    
    
    /* ==================== Better Spacing ==================== */
    .main-content {
        padding: 1rem !important;
    }
    
    .container {
        padding: 0.5rem !important;
    }
    
    /* ==================== Insights Page - Button Beside Title ==================== */
    .page-header-section {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        gap: 0.75rem !important;
        margin-bottom: 1rem !important;
        flex-wrap: nowrap !important;
    }
    
    .header-left {
        flex: 1 !important;
        min-width: 0 !important;
    }
    
    .header-right {
        flex: 0 0 auto !important;
        width: auto !important;
    }
    
    .add-subscribers-btn {
        padding: 0.5rem 0.75rem !important;
        font-size: 0.75rem !important;
        min-height: 36px !important;
        white-space: nowrap !important;
        width: auto !important;
        gap: 0.375rem !important;
    }
    
    .add-subscribers-btn svg {
        width: 16px !important;
        height: 16px !important;
    }
    
    .page-title {
        margin: 0 !important;
        font-size: 1.25rem !important;
    }
    
    /* ==================== Admins Page - Button Beside Title ==================== */
    .page-header {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        gap: 0.75rem !important;
        margin-bottom: 1rem !important;
        flex-wrap: nowrap !important;
    }
    
    .page-header > div:first-child {
        flex: 1 !important;
        min-width: 0 !important;
    }
    
    .page-header h2 {
        margin: 0 0 0.25rem 0 !important;
        font-size: 1.25rem !important;
    }
    
    .page-header p {
        margin: 0 !important;
        font-size: 0.875rem !important;
    }
    
    .new-admin-btn {
        padding: 0.5rem 0.75rem !important;
        font-size: 0.75rem !important;
        min-height: 36px !important;
        white-space: nowrap !important;
        width: auto !important;
        gap: 0.375rem !important;
        flex: 0 0 auto !important;
    }
    
    .new-admin-btn svg {
        width: 16px !important;
        height: 16px !important;
    }
}

